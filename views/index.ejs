<!-- ***CODE REMOVED AND REPLACED WITH LAYOUT FILES ***-->
<!DOCTYPE html>
<html lang="en">
<%- include('layouts/header'); -%>

    <body>
        <%- include('layouts/navbar'); -%>
            <!-- Page Header-->
            <header class="masthead" style="background-image: url('assets/img/homePage.jpg')">
                <div class="container position-relative px-4 px-lg-5">
                    <div class="row gx-4 gx-lg-5 justify-content-center">
                        <div class="col-md-10 col-lg-8 col-xl-7">
                            <div class="site-heading">
                                <h1>Cats who code</h1>
                                <span class="subheading">A Blog for avid coders</span>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <!-- Main Content-->
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <!-- Post preview-->
                        <!-- Added a for loop to dynamically display the blog posts on the home page -->
                        <% for (var i=0; i < blogposts.length; i++) { %>
                            <div class="post-preview">
                                <a href="/post/<%= blogposts[i]._id %>">
                                    <h2 class="post-title">
                                        <%= blogposts[i].title %>
                                    </h2>
                                    <h3 class="post-subtitle">
                                        <%= blogposts[i].body %>
                                    </h3>
                                </a>
                                <p class="post-meta">Posted by
                                    <a href="#">
                                        <%= blogposts[i].username %>
                                    </a>
                                    on <%= blogposts[i].datePosted.toDateString() %>
                                </p>
                            </div>
                            <hr>
                            <% } %>
                                <!-- Divider-->
                                <hr class="my-4" />
                                <!-- Pager-->
                                <div class="d-flex justify-content-end mb-4"><a class="btn btn-primary text-uppercase"
                                        href="#!">Older Posts â†’</a>
                                </div>
                    </div>
                </div>
            </div>
            <%- include('layouts/footer'); -%>
                <%- include('layouts/scripts'); -%>

    </body>

</html>